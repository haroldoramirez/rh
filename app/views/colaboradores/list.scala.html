@(currentPage: com.avaje.ebean.PagedList[Pessoa], currentSortBy: String, currentOrder: String, currentFilter: String)

@****************************************
* Helper generating navigation links    *
****************************************@
@link(newPage:Int, newSortBy:String) = @{

    var sortBy = currentSortBy
    var order = currentOrder

    if(newSortBy != null) {
        sortBy = newSortBy
        if(currentSortBy == newSortBy) {
            if(currentOrder == "asc") {
                order = "desc"
            } else {
                order = "asc"
            }
        } else {
            order = "asc"
        }
    }

    // Generate the link
    routes.PessoaController.telaLista(newPage, sortBy, order, currentFilter)

}

@**********************************
* Helper generating table headers *
***********************************@
@header(key:String, title:String) = {
    <th class="@key.replace(".","_") header @if(currentSortBy == key) @{if(currentOrder == "asc") "headerSortDown" else "headerSortUp"}">
        <a href="@link(0, key)">@title</a>
    </th>
}

@views.html.main("AdminRH - Colaboradores") {
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Lista
        </h1>
        <ol class="breadcrumb">
            <li><a href="@routes.HomeController.inicio"><i class="fa fa-home"></i> Home</a></li>
            <li class="active">Colaboradores</li>
        </ol>
    </section>

        <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-xs-12">
                <div class="box">
                    <div class="box-header">
                        <a type="button" href="@routes.PessoaController.telaNovo()" class="pull-right btn btn-success">Cadastrar</a>
                        <div class="input-group col-lg-3">
                            <input autocomplete="off" type="text" class="form-control" placeholder="Buscar por...">
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="button">Buscar</button>
                            </span>
                        </div><!-- /input-group -->
                    </div>
                        <!-- /.box-header -->
                    <div class="box-body">
                        <div id="example2_wrapper" class="dataTables_wrapper form-inline dt-bootstrap">
                            <div class="row">
                                <div class="col-sm-6"></div>
                                <div class="col-sm-6"></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <table id="example2" class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
                                        <thead>
                                            <tr role="row">
                                                <th>Matrícula</th>
                                                <th>Nome</th>
                                                <th>Telefone</th>
                                                <th>CPF</th>
                                                <th>Email</th>
                                                <th>Cargo</th>
                                                <th>Área</th>
                                                <th>Benefício</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        @for(pessoa <- currentPage.getList) {
                                            <tr>
                                                <td>@pessoa.getId</td>
                                                <td><a href="@routes.PessoaController.telaDetalhe(pessoa.getId)"><strong>@pessoa.getNome</strong></a></td>
                                                <td>@pessoa.getTelefone</td>
                                                <td>@pessoa.getCpf</td>
                                                <td>@pessoa.getEmail</td>
                                                <td>@pessoa.getCargo.getNome</td>
                                                <td>@pessoa.getArea.getNome</td>
                                                <td>@pessoa.getBeneficio.getNome</td>
                                            </tr>
                                        }
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Matrícula</th>
                                                <th>Nome</th>
                                                <th>Telefone</th>
                                                <th>CPF</th>
                                                <th>Email</th>
                                                <th>Cargo</th>
                                                <th>Área</th>
                                                <th>Benefício</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                                    <!-- /.col -->
                            </div>
                                <!-- /.row -->


                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="dataTables_info" id="example2_info" role="status" aria-live="polite">Página @currentPage.getDisplayXtoYofZ(" com "," total ")</div>
                                </div>
                                <div class="col-sm-7">
                                    <div class="dataTables_paginate paging_simple_numbers">
                                        <ul class="pagination">
                                            @if(currentPage.hasPrev) {
                                                <li class="paginate_button previous">
                                                    <a href="@link(currentPage.getPageIndex - 1, null)">Anterior</a>
                                                </li>
                                            } else {
                                                <li class="paginate_button previous disabled">
                                                    <a>Anterior</a>
                                                </li>
                                            }
                                            @if(currentPage.hasNext) {
                                                <li class="paginate_button next">
                                                    <a href="@link(currentPage.getPageIndex + 1, null)">Próximo</a>
                                                </li>
                                            } else {
                                                <li class="paginate_button next disabled">
                                                    <a>Próximo</a>
                                                </li>
                                            }
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <!-- /.dataTables -->
                    </div>
                        <!-- /.box-body -->
                </div>
                    <!-- /.box -->
            </div>
                <!-- /.col -->
        </div>
            <!-- /.row -->
    </section>
        <!-- /.content -->
}

<script type="text/javascript">
        //Ao carregar a pagina desativar todos os campos input
        window.onbeforeunload = function () {
            var inputs = document.getElementsByTagName("INPUT");
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].type == "text") {
                    inputs[i].disabled = true;
                }
            }
        };
</script>